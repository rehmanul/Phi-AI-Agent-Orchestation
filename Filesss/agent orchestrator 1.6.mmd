---
config:
  layout: dagre
  elk:
    nodePlacementStrategy: NETWORK_SIMPLEX
    mergeEdges: true
    padding: 32
---
flowchart TB

%% =====================================================
%% TITLE & LEGEND (TOP)
%% =====================================================

TITLE["ğŸ“Š Master System Architecture<br/>Complete Legislative Process & Agent Orchestration<br/><small>Version 1.6 â€” All States, All Agents, All Services</small>"]:::title

subgraph LEGEND["ğŸ“– Visual Semantics"]
direction LR
LEG_PRIMARY["ğŸ”µ PRIMARY<br/>Legislative states"]:::PRIMARY
LEG_HUMAN["âœ‹ HUMAN_ACTION<br/>Human decisions required"]:::HUMAN_ACTION
LEG_SYSTEM["âš™ï¸ SYSTEM_FLOW<br/>System running"]:::SYSTEM_FLOW
LEG_CONTEXT["â—» CONTEXT_REF<br/>Reference / context"]:::CONTEXT_REF
LEG_ARROW["â¡ï¸ Thick Arrow (3px)<br/>Critical paths"]:::artifact
end

TITLE -.-> LEGEND

%% =====================================================
%% MAIN CONTENT
%% =====================================================

AVAQ(["ğŸ‘¥ AVAQ Strategic Team"]):::human
AI_CORE(["ğŸ¤– AI Policy Execution Agent"]):::ai
subgraph LEGISLATIVE["ğŸ“œ Legislative Process Spine (Authoritative Timeline)"]
direction TB
PRE_EVT((Policy Opportunity<br/>Detected)):::PRIMARY
PRE_SIGNAL_SCAN("Signal Scanning<br/>Industry Â· Courts Â· Agencies"):::human
PRE_STAKEHOLDER_MAP["Stakeholder<br/>Landscape Map"]:::artifact
PRE_EDU("Staff & Member<br/>Education"):::human
PRE_CONCEPT["Concept Memo"]:::artifact
INTRO_EVT((Bill Vehicle<br/>Identified)):::PRIMARY
INTRO_SPONSOR("Sponsor<br/>Targeting"):::human
INTRO_FRAME["Legitimacy & Policy<br/>Framing"]:::artifact
INTRO_ACAD("Academic<br/>Validation"):::human
INTRO_WHITEPAPER["Policy<br/>Whitepaper"]:::artifact
COMM_EVT((Committee<br/>Referral)):::PRIMARY
COMM_AGENDA("Agenda & Member<br/>Analysis"):::human
COMM_BRIEFS["Committee Briefing<br/>Packets"]:::artifact
COMM_LANG["Draft Legislative<br/>Language"]:::artifact
COMM_AMEND["Amendment<br/>Strategy"]:::artifact
FLOOR_EVT((Floor<br/>Scheduled)):::PRIMARY
FLOOR_MSG["Floor Messaging<br/>& Talking Points"]:::artifact
FLOOR_TIMING("Timing & Vote Whip<br/>Strategy"):::human
FLOOR_MEDIA["Press & Media<br/>Narrative"]:::artifact
FINAL_EVT((Vote<br/>Imminent)):::HUMAN_ACTION
FINAL_COAL("Coalition<br/>Activation"):::human
FINAL_NARR["Final Constituent<br/>Narrative"]:::artifact
IMPL_EVT((Law<br/>Enacted)):::PRIMARY
IMPL_GUIDE["Implementation<br/>Guidance"]:::artifact
IMPL_OVERSIGHT("Oversight &<br/>Compliance Prep"):::human
IMPL_OUTCOME["Outcome & Impact<br/>Report"]:::artifact

end
%% State transitions with thick arrows
PRE_EVT -->|State Transition| PRE_SIGNAL_SCAN --> PRE_STAKEHOLDER_MAP --> PRE_EDU --> PRE_CONCEPT -->|State Transition| INTRO_EVT
INTRO_EVT -->|State Transition| INTRO_SPONSOR --> INTRO_FRAME --> INTRO_ACAD --> INTRO_WHITEPAPER -->|State Transition| COMM_EVT
COMM_EVT -->|State Transition| COMM_AGENDA --> COMM_BRIEFS --> COMM_LANG --> COMM_AMEND -->|State Transition| FLOOR_EVT
FLOOR_EVT -->|State Transition| FLOOR_MSG --> FLOOR_TIMING --> FLOOR_MEDIA -->|State Transition| FINAL_EVT
FINAL_EVT -->|State Transition| FINAL_COAL --> FINAL_NARR -->|State Transition| IMPL_EVT
IMPL_EVT -->|State Transition| IMPL_GUIDE --> IMPL_OVERSIGHT --> IMPL_OUTCOME

AVAQ --> PRE_EDU
AVAQ --> INTRO_SPONSOR
AVAQ --> COMM_AGENDA
AVAQ --> FLOOR_TIMING
AVAQ --> FINAL_COAL
AVAQ --> IMPL_OVERSIGHT
subgraph AI_SERVICES["ğŸ¤– AI Service Execution Layer"]
direction TB

AI_INGEST("ğŸ” Multi-Source Ingestion<br/>Public Â· Academic Â· Internal"):::SYSTEM_FLOW
AI_RETRIEVE("ğŸ” Contextual Retrieval"):::SYSTEM_FLOW
AI_FEATURES("ğŸ“ Feature Extraction<br/>Signals Â· Frames Â· Votes"):::SYSTEM_FLOW
AI_GENERATE("ğŸ§  Draft & Strategy Generation"):::SYSTEM_FLOW
AI_SCORE("ğŸ“Š Impact & Risk Scoring"):::SYSTEM_FLOW

end

AI_INGEST --> AI_RETRIEVE --> AI_FEATURES --> AI_GENERATE --> AI_SCORE
AI_GENERATE -.-> PRE_STAKEHOLDER_MAP
AI_GENERATE -.-> PRE_CONCEPT
AI_GENERATE -.-> INTRO_FRAME
AI_GENERATE -.-> INTRO_WHITEPAPER
AI_GENERATE -.-> COMM_BRIEFS
AI_GENERATE -.-> COMM_LANG
AI_GENERATE -.-> COMM_AMEND
AI_GENERATE -.-> FLOOR_MSG
AI_GENERATE -.-> FLOOR_MEDIA
AI_GENERATE -.-> FINAL_NARR
AI_GENERATE -.-> IMPL_GUIDE
subgraph HUMAN_REVIEW["ğŸ‘¤ Human Judgment & Approval"]
direction TB

HR_PRE{Approve Concept Direction?}:::decision
HR_LANG{Approve Legislative Language?}:::decision
HR_MSG{Approve Messaging & Narrative?}:::decision
HR_RELEASE{Authorize Public Release?}:::decision

end

PRE_CONCEPT --> HR_PRE --o|Blocking| INTRO_EVT
COMM_LANG --> HR_LANG --o|Blocking| FLOOR_EVT
FLOOR_MEDIA --> HR_MSG --o|Blocking| FINAL_EVT
FINAL_NARR --> HR_RELEASE --o|Blocking| IMPL_EVT

AVAQ --> HR_PRE
AVAQ --> HR_LANG
AVAQ --> HR_MSG
AVAQ --> HR_RELEASE
subgraph MEMORY["ğŸ—„ï¸ Evidence, Memory & Learning"]
direction TB

MEM_EVIDENCE[(ğŸ—„ï¸ Evidence Store)]:::data
MEM_TACTICS[(ğŸ“Š Tactic Performance History)]:::data
MEM_NARRATIVE[(ğŸ—£ï¸ Narrative Effectiveness Log)]:::data
MEM_OUTCOMES[(ğŸ“ˆ Legislative Outcomes)]:::data

LEARN_CAUSAL("ğŸ“ Causal Attribution Engine"):::ai
LEARN_UPDATE("ğŸ” Strategy Reweighting"):::ai

end

AI_SCORE --> MEM_EVIDENCE
FINAL_EVT --> MEM_OUTCOMES
IMPL_OUTCOME --> MEM_OUTCOMES
FLOOR_MEDIA --> MEM_NARRATIVE
COMM_AMEND --> MEM_TACTICS

MEM_EVIDENCE --> LEARN_CAUSAL
MEM_OUTCOMES --> LEARN_CAUSAL
MEM_TACTICS --> LEARN_CAUSAL
MEM_NARRATIVE --> LEARN_CAUSAL

LEARN_CAUSAL --> LEARN_UPDATE --> AI_FEATURES
subgraph MARKETING["ğŸ“£ Messaging & Marketing Intelligence"]
direction TB

MSG_TEST("ğŸ§ª Message Variant Testing"):::ai
MSG_SIGNAL("ğŸ“¡ Media & Public Signal Capture"):::system
MSG_SCORE("ğŸ“Š Persuasion Effectiveness Scoring"):::ai

end

FLOOR_MEDIA --> MSG_TEST
MSG_TEST --> MSG_SIGNAL --> MSG_SCORE
MSG_SCORE --> MEM_NARRATIVE
MSG_SCORE -.-> AI_GENERATE
subgraph GOVERNANCE["âš–ï¸ Professional Governance & Bounds"]
direction TB

LEGAL(["âš–ï¸ Legislative Counsel"]):::human
COMPLIANCE(["ğŸ›¡ï¸ Compliance Officer"]):::human
POLICY(["ğŸ§  Policy Director"]):::human
ACADEMIC(["ğŸ“ Academic Validator"]):::human

GUIDANCE["ğŸ“‘ Signed Guidance & Constraints"]:::artifact
AUDIT[(ğŸ§¾ Audit & Rationale Log)]:::DATA

end

LEGAL --> GUIDANCE
COMPLIANCE --> GUIDANCE
POLICY --> GUIDANCE
ACADEMIC --> GUIDANCE

GUIDANCE ==> AI_GENERATE
GUIDANCE ==> AI_SCORE
AI_GENERATE --> AUDIT
AI_SCORE --> AUDIT
subgraph REALITY["ğŸŒ External Reality"]
direction TB
REAL_ELECT((ğŸ—³ï¸ Elections)):::system
REAL_COURT((âš–ï¸ Court Rulings)):::system
REAL_AGENCY((ğŸ›ï¸ Agency Actions)):::system
REAL_MARKET((ğŸ­ Industry Behavior)):::system
end

REAL_ELECT -.-> PRE_EVT
REAL_COURT -.-> PRE_EVT
REAL_AGENCY -.-> PRE_EVT
REAL_MARKET -.-> PRE_EVT
classDef human fill:#E0F2FE,stroke:#0369A1,stroke-width:2px
classDef ai fill:#F3E8FF,stroke:#7C3AED,stroke-width:2px
classDef system fill:#ECFDF5,stroke:#047857,stroke-width:2px
classDef artifact fill:#DBEAFE,stroke:#1E40AF,stroke-width:2px
classDef data fill:#FEF9C3,stroke:#CA8A04,stroke-width:2px
classDef decision fill:#FEE2E2,stroke:#991B1B,stroke-width:2px

%% =====================================================
%% IMPROVED STYLING CLASSES (HIGH CONTRAST)
%% Purpose: Apply consistent visual semantics across diagrams
%% =====================================================

%% Primary (States - High emphasis)
classDef PRIMARY fill:#1E40AF,stroke:#1E3A8A,stroke-width:3px,color:#FFFFFF,font-weight:bold,font-size:14px

%% Human Actions (Review Gates - Urgent attention)
classDef HUMAN_ACTION fill:#FEE2E2,stroke:#DC2626,stroke-width:4px,color:#000000,font-weight:bold,font-size:13px

%% System Flow (AI Services, Execution - Active processes)
classDef SYSTEM_FLOW fill:#DBEAFE,stroke:#2563EB,stroke-width:2.5px,color:#000000,font-size:12px

%% Context Reference (Memory, Learning - Background)
classDef CONTEXT_REF fill:#F3F4F6,stroke:#6B7280,stroke-width:1.5px,stroke-dasharray:5 5,color:#4B5563,font-size:11px,font-style:italic

%% Artifacts (Documents, Outputs)
classDef artifact fill:#E0E7FF,stroke:#6366F1,stroke-width:2px,color:#000000,font-size:12px

%% Data Stores
classDef DATA fill:#FEF3C7,stroke:#F59E0B,stroke-width:2px,color:#000000,font-size:11px

%% Title (for title nodes)
classDef title fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-weight:bold,font-size:16px

%% Apply improved styling classes
class PRE_EVT,INTRO_EVT,COMM_EVT,FLOOR_EVT,IMPL_EVT PRIMARY
class HR_PRE,HR_LANG,HR_MSG,HR_RELEASE,ESC_RISK,ESC_OVERRIDE,FB_HUMAN,FINAL_EVT HUMAN_ACTION
class AI_CORE,AI_INGEST,AI_RETRIEVE,AI_FEATURES,AI_GENERATE,AI_SCORE,EXEC_STRATEGY,EXEC_TACTICS,EXEC_RUN,EXEC_MONITOR,EXEC_ALERT,EXEC_RETUNE SYSTEM_FLOW
class MEMORY,ORIENTATION,CONTINUITY,EXECUTION_SCOPE,HUMAN_COSTS,REALITY,MARKETING,GOVERNANCE,MEM_EVIDENCE,MEM_TACTICS,MEM_NARRATIVE,MEM_OUTCOMES,LEARN_CAUSAL,LEARN_UPDATE,READ_SPINE,READ_RIGHT,READ_DECISIONS CONTEXT_REF
class PRE_STAKEHOLDER_MAP,PRE_CONCEPT,INTRO_FRAME,INTRO_WHITEPAPER,COMM_BRIEFS,COMM_LANG,COMM_AMEND,FLOOR_MSG,FLOOR_MEDIA,FINAL_NARR,IMPL_GUIDE,IMPL_OUTCOME artifact
class MEM_EVIDENCE,MEM_TACTICS,MEM_NARRATIVE,MEM_OUTCOMES,AUDIT DATA

subgraph EXECUTION_LOOP["ğŸ”„ Post-Decision Execution & Adaptive Momentum"]
direction TB
EXEC_STRATEGY("ğŸ§  Strategy Decomposition<br/>Goals â†’ Plays â†’ Tasks"):::SYSTEM_FLOW
EXEC_TACTICS("ğŸ¯ Tactical Planning<br/>Outreach Â· Messaging Â· Timing"):::SYSTEM_FLOW
EXEC_RUN("âš™ï¸ Tactic Execution Engine<br/>Briefings Â· Outreach Â· Narrative Push"):::SYSTEM_FLOW
EXEC_MONITOR("ğŸ“¡ Live Monitoring<br/>Staff Signals Â· Media Â· Votes"):::SYSTEM_FLOW
EXEC_ALERT((âš ï¸ Deviation /<br/>Opportunity Detected)):::SYSTEM_FLOW
EXEC_RETUNE("ğŸ” Tactical Retuning<br/>Adjust Frames Â· Targets Â· Timing"):::SYSTEM_FLOW

end
IMPL_OUTCOME --> EXEC_STRATEGY
EXEC_STRATEGY --> EXEC_TACTICS --> EXEC_RUN --> EXEC_MONITOR --> EXEC_ALERT --> EXEC_RETUNE
EXEC_RETUNE --> AI_FEATURES
EXEC_ALERT --> MEM_TACTICS
EXEC_MONITOR --> MEM_NARRATIVE
EXEC_ALERT -.-> AVAQ

%% =====================================================
%% ğŸ§­ HUMAN REVIEW â€” COST, EFFORT & RISK SIGNALING (ADDITIVE)
%% Purpose: make â€œapproveâ€ actions legible in effort, time, and risk
%% Does NOT replace existing Human Review decisions
%% =====================================================

subgraph HUMAN_COSTS["ğŸ‘¤ Human Review Effort & Cost Signals"]
direction TB

%% --- Concept Approval Effort ---
COST_PRE_TIME["â±ï¸ ~10â€“15 min<br/>Skim & Sanity Check"]:::artifact
COST_PRE_RISK["âš ï¸ Lowâ€“Medium Risk<br/>Directional Alignment"]:::artifact

%% --- Legislative Language Approval Effort ---
COST_LANG_TIME["â±ï¸ ~45â€“90 min<br/>Deep Review"]:::artifact
COST_LANG_RISK["âš ï¸ High Risk<br/>Statutory / Legal Exposure"]:::artifact

%% --- Messaging Approval Effort ---
COST_MSG_TIME["â±ï¸ ~15â€“30 min<br/>Content & Tone Review"]:::artifact
COST_MSG_RISK["âš ï¸ Medium Risk<br/>Reputational / Narrative"]:::artifact

%% --- Public Release Approval Effort ---
COST_REL_TIME["â±ï¸ ~5â€“10 min<br/>Final Go / No-Go"]:::artifact
COST_REL_RISK["âš ï¸ High Visibility<br/>Irreversible Action"]:::artifact

end

%% Map cost signals to existing decision gates (non-blocking, informational)
HR_PRE -.-> COST_PRE_TIME
HR_PRE -.-> COST_PRE_RISK

HR_LANG -.-> COST_LANG_TIME
HR_LANG -.-> COST_LANG_RISK

HR_MSG -.-> COST_MSG_TIME
HR_MSG -.-> COST_MSG_RISK

HR_RELEASE -.-> COST_REL_TIME
HR_RELEASE -.-> COST_REL_RISK


%% =====================================================
%% â±ï¸ EXECUTION LOOP â€” TEMPORAL CLARIFICATION (ADDITIVE)
%% Purpose: clarify WHEN the execution loop operates
%% =====================================================

subgraph EXECUTION_SCOPE["ğŸ•’ Execution Scope & Timing"]
direction TB

SCOPE_ACTIVE["ğŸ“ Operates While Bill Is Active<br/>Pre-Vote Â· Committee Â· Floor"]:::artifact
SCOPE_NOT_POST["ğŸš« Not Post-Mortem<br/>Not Historical Analysis"]:::artifact
SCOPE_NOT_ONLY_LAW["ğŸš« Not Only Post-Enactment<br/>Runs Before Law Is Passed"]:::artifact

end

%% Anchor scope clarification to execution loop
EXEC_STRATEGY -.-> SCOPE_ACTIVE
EXEC_STRATEGY -.-> SCOPE_NOT_POST
EXEC_STRATEGY -.-> SCOPE_NOT_ONLY_LAW


%% =====================================================
%% ğŸ§© RIGHT-HAND COLUMN CONTINUITY (CAUSE â†’ EXECUTION â†’ SPECIALIZATION)
%% Purpose: visually explain why Governance, AI Services,
%% and Marketing sit next to each other
%% =====================================================

subgraph CONTINUITY["â¡ï¸ Constraint â†’ Execution â†’ Specialization"]
direction TB

CONT_GOV["âš–ï¸ Constraints & Bounds<br/>What AI Is Allowed To Do"]:::artifact
CONT_EXEC["ğŸ¤– Execution Engine<br/>How Work Is Performed"]:::artifact
CONT_SPEC["ğŸ“£ Domain Intelligence<br/>Messaging & Persuasion"]:::artifact

end

%% Causal continuity (informational, not control flow)
GUIDANCE -.-> CONT_GOV
CONT_GOV -.-> AI_SERVICES
AI_SERVICES -.-> CONT_EXEC
CONT_EXEC -.-> MARKETING
MARKETING -.-> CONT_SPEC


%% =====================================================
%% ğŸ‘€ OPTIONAL USER ORIENTATION CALLOUTS (LOW NOISE)
%% Purpose: give readers novelty and orientation as they scroll
%% =====================================================

subgraph ORIENTATION["ğŸ§­ How To Read This Diagram"]
direction TB

READ_SPINE["â¬‡ï¸ Read Down = Legislative Time"]:::artifact
READ_RIGHT["â¡ï¸ Read Right = Automation & Services"]:::artifact
READ_DECISIONS["ğŸ”´ Diamonds = Rare Human Decisions"]:::artifact

end

READ_SPINE -.-> LEGISLATIVE
READ_RIGHT -.-> AI_SERVICES
READ_DECISIONS -.-> HUMAN_REVIEW
%% =====================================================
%% ğŸš¦ ACTIVE CAMPAIGN OPERATIONS (NOVEL, PARALLEL MOTION)
%% Purpose: show real lobbying work happening right now
%% Audience: business devs, industry pros, lobbyists
%% =====================================================

subgraph CAMPAIGN_OPS["ğŸ”¥ Active Campaign Operations (While Bill Is Live)"]
direction TB

%% ======================
%% PARALLEL CAMPAIGN THREADS
%% ======================

THREAD_COMMITTEE("ğŸ§µ Committee Outreach Wave<br/>Targeted Staff Touchpoints"):::system
THREAD_NARRATIVE("ğŸ§µ Narrative Reframing Push<br/>Message Alignment & Media Prep"):::system
THREAD_COALITION("ğŸ§µ Coalition Expansion Sprint<br/>Partner Activation"):::system
THREAD_OPPOSITION("ğŸ§µ Opposition Neutralization Track<br/>Counter-Framing"):::system

end

%% Threads originate from active execution
EXEC_RUN --> THREAD_COMMITTEE
EXEC_RUN --> THREAD_NARRATIVE
EXEC_RUN --> THREAD_COALITION
EXEC_RUN --> THREAD_OPPOSITION


%% =====================================================
%% â³ OPPORTUNITY WINDOWS (TIME-SENSITIVE ADVANTAGE)
%% =====================================================

subgraph OPPORTUNITIES["â° Live Opportunity Windows"]
direction TB

WIN_MSG((ğŸªŸ 48-Hour Messaging Window)):::decision
WIN_MEMBER((ğŸªŸ Undecided Member Window)):::decision
WIN_AMEND((ğŸªŸ Amendment Timing Window)):::decision
WIN_MEDIA((ğŸªŸ Media Cycle Alignment Window)):::decision

end

%% Monitoring opens windows
EXEC_MONITOR --> WIN_MSG
EXEC_MONITOR --> WIN_MEMBER
EXEC_MONITOR --> WIN_AMEND
EXEC_MONITOR --> WIN_MEDIA

%% Windows feed back into tactical planning
WIN_MSG -.-> EXEC_TACTICS
WIN_MEMBER -.-> EXEC_TACTICS
WIN_AMEND -.-> EXEC_TACTICS
WIN_MEDIA -.-> EXEC_TACTICS


%% =====================================================
%% ğŸ“¤ OUTBOUND INFLUENCE (REAL-WORLD ACTION)
%% =====================================================

subgraph OUTBOUND["ğŸ“¤ Outbound Influence Actions"]
direction TB

OUT_BRIEF["ğŸ“¨ Staff Briefing Delivered"]:::artifact
OUT_POINTS["ğŸ—£ï¸ Talking Points Distributed"]:::artifact
OUT_PARTNER["ğŸ¤ Coalition Partner Activated"]:::artifact
OUT_MEDIA["ğŸ“° Narrative Seeded to Media"]:::artifact

end

%% Each thread produces outward pressure
THREAD_COMMITTEE --> OUT_BRIEF
THREAD_COMMITTEE --> OUT_POINTS
THREAD_COALITION --> OUT_PARTNER
THREAD_NARRATIVE --> OUT_MEDIA

%% Outbound actions generate signals
OUT_MEDIA --> EXEC_MONITOR
OUT_BRIEF --> EXEC_MONITOR
OUT_PARTNER --> EXEC_MONITOR


%% =====================================================
%% ğŸ“ˆ CAMPAIGN MOMENTUM (WHAT OPERATORS CARE ABOUT)
%% =====================================================

subgraph MOMENTUM["ğŸ“ˆ Campaign Momentum Signals"]
direction TB

MOM_UP((â¬†ï¸ Momentum Building)):::system
MOM_FLAT((â¡ï¸ Momentum Stalling)):::system
MOM_DOWN((â¬‡ï¸ Resistance Increasing)):::system

end

%% Signals derived from monitoring + scoring
EXEC_ALERT --> MOM_UP
EXEC_ALERT --> MOM_FLAT
EXEC_ALERT --> MOM_DOWN

%% Momentum informs retuning decisions
MOM_UP -.-> EXEC_RETUNE
MOM_FLAT -.-> EXEC_RETUNE
MOM_DOWN -.-> EXEC_RETUNE


%% =====================================================
%% ğŸš¨ RARE HUMAN ESCALATION (STRATEGIC, NOT CLERICAL)
%% =====================================================

subgraph ESCALATION["ğŸš¨ Strategic Human Escalation (Rare)"]
direction TB

ESC_RISK{âš ï¸ High-Risk Political Sensitivity}:::decision
ESC_OVERRIDE{ğŸ›ï¸ Strategic Override Requested}:::decision

end

%% Only triggered under pressure
MOM_DOWN --> ESC_RISK
ESC_RISK --o ESC_OVERRIDE
ESC_OVERRIDE -.-> AVAQ
%% =====================================================
%% ğŸ’¼ BUSINESS DEVELOPMENT LANE
%% Purpose: make value creation, partnerships, and ROI visible
%% Audience: business devs, industry stakeholders, execs
%% =====================================================

subgraph BIZDEV["ğŸ’¼ Business Development & Industry Value"]
direction TB

BD_SIGNAL("ğŸ“¡ Industry Demand Signal<br/>Market Pull Detected"):::system
BD_PARTNER("ğŸ¤ Strategic Partner Identified"):::human
BD_VALUE_MAP["ğŸ’° Value Proposition Mapping<br/>Jobs Â· Benefits Â· Risk Reduction"]:::artifact
BD_COMMIT["ğŸ“ Partner Commitment Secured"]:::artifact
BD_PIPELINE["ğŸ“Š Opportunity Pipeline Impact"]:::data

end

%% Business development hooks into early + mid legislative stages
PRE_STAKEHOLDER_MAP -.-> BD_SIGNAL
BD_SIGNAL --> BD_PARTNER --> BD_VALUE_MAP --> BD_COMMIT --> BD_PIPELINE
BD_PIPELINE -.-> IMPL_OUTCOME


%% =====================================================
%% ğŸ“£ ADVOCACY & PRESSURE LANE
%% Purpose: show real-world lobbying force, friction, and counterforce
%% Audience: lobbyists, advocates, political operators
%% =====================================================

subgraph ADVOCACY["ğŸ“£ Advocacy & Political Pressure Field"]
direction TB

ADV_BASE("ğŸ‘¥ Constituent Base Activation"):::system
ADV_STAFF("ğŸ›ï¸ Staff-Level Advocacy<br/>Meetings Â· Briefings"):::system
ADV_MEMBER("ğŸ§‘â€âš–ï¸ Member-Level Persuasion<br/>Direct Influence"):::system
ADV_OPPOSE("ğŸ›‘ Opposition Pressure Detected"):::system
ADV_COUNTER("ğŸ§¯ Counter-Pressure Deployed"):::ai

end

%% Pressure attaches to spine without altering it
COMM_EVT -.-> ADV_STAFF
FLOOR_EVT -.-> ADV_MEMBER
ADV_BASE -.-> ADV_STAFF
ADV_STAFF --> ADV_MEMBER
ADV_MEMBER --> ADV_OPPOSE --> ADV_COUNTER
ADV_COUNTER -.-> EXEC_RETUNE


%% =====================================================
%% ğŸ§‘â€ğŸ’» SOFTWARE & SYSTEMS LANE
%% Purpose: make backend automation, reliability, and observability explicit
%% Audience: developers, architects, technical evaluators
%% =====================================================

subgraph SYSTEMS["ğŸ§‘â€ğŸ’» Software Systems & Automation"]
direction TB

SYS_JOBS("â±ï¸ Background Jobs<br/>Schedulers Â· Workers"):::ai
SYS_EVENTS("ğŸ“¨ Event Bus<br/>Signals & Triggers"):::system
SYS_APIS("ğŸ”Œ External APIs<br/>Data Providers Â· Media Feeds"):::system
SYS_OBS("ğŸ“ˆ Observability<br/>Logs Â· Metrics Â· Traces"):::data
SYS_FAIL("ğŸš¨ Failure / Drift Detection"):::decision

end

%% Systems support AI services and execution loop
AI_INGEST --> SYS_APIS
SYS_APIS --> SYS_EVENTS --> SYS_JOBS --> AI_FEATURES
EXEC_RUN -.-> SYS_EVENTS
SYS_EVENTS --> SYS_OBS
SYS_OBS --> SYS_FAIL
SYS_FAIL --o EXEC_ALERT


%% =====================================================
%% ğŸ§  OPERATOR INTELLIGENCE LANE
%% Purpose: give users something to *study* when zoomed in
%% Audience: power users, strategists, analysts
%% =====================================================

subgraph OP_INTEL["ğŸ§  Operator Intelligence & Signals"]
direction TB

INTEL_HEAT["ğŸŒ¡ï¸ Influence Heatmap<br/>Where Effort Matters Most"]:::artifact
INTEL_VOL["ğŸ“‰ Volatility Index<br/>Position Drift Â· Risk"]:::artifact
INTEL_LEV["ğŸªœ Leverage Score<br/>Effort â†’ Impact Ratio"]:::artifact

end

EXEC_MONITOR --> INTEL_HEAT
EXEC_MONITOR --> INTEL_VOL
AI_SCORE --> INTEL_LEV
INTEL_LEV -.-> EXEC_TACTICS


%% =====================================================
%% ğŸ”„ FEEDBACK INTO EXECUTION (LIGHT, CONTINUOUS MOTION)
%% =====================================================

INTEL_HEAT -.-> EXEC_RETUNE
INTEL_VOL -.-> EXEC_RETUNE
BD_PIPELINE -.-> EXEC_STRATEGY
ADV_OPPOSE -.-> EXEC_ALERT

%% =====================================================
%% ğŸ§  AI POLICY EXECUTION AGENT â€” PROFESSIONAL SERVICE FIELD
%% Purpose: make clear WHAT expertise the AI operationalizes
%% Audience: industry, regulators, academics, customers
%% =====================================================

subgraph AI_PROFESSIONALS["ğŸ§  AI Policy Execution Agent â€” Professional Service Field"]
direction TB

%% =========================
%% POLICY & REGULATORY EXPERTISE
%% =========================
PRO_REG("âš–ï¸ Regulatory Affairs Specialist"):::human
PRO_LEG("ğŸ“œ Legislative Policy Analyst"):::human
PRO_COMPLY("ğŸ›¡ï¸ Compliance & Ethics Advisor"):::human
PRO_GOVREL("ğŸ›ï¸ Government Relations Lead"):::human

%% =========================
%% INDUSTRY & DOMAIN EXPERTISE
%% =========================
PRO_INDUSTRY("ğŸ­ Industry Subject-Matter Expert"):::human
PRO_MARKET("ğŸ“Š Market & Competitive Analyst"):::human
PRO_RISK("âš ï¸ Risk & Impact Assessor"):::human

%% =========================
%% COMMUNICATION & ADVOCACY
%% =========================
PRO_COMMS("ğŸ—£ï¸ Strategic Communications Lead"):::human
PRO_MEDIA("ğŸ“° Media & Narrative Strategist"):::human
PRO_GRASS("ğŸ‘¥ Grassroots Mobilization Lead"):::human

%% =========================
%% RESEARCH & VALIDATION
%% =========================
PRO_ACAD("ğŸ“ Academic / Research Validator"):::human
PRO_DATA("ğŸ“ Policy Data Scientist"):::human

%% =========================
%% SYNTHESIZED EXECUTION CONTEXT
%% =========================
PRO_CONTEXT["ğŸ“¦ Professional Context Packets<br/>Precedent Â· Norms Â· Constraints Â· Best Practice"]:::artifact

end

%% Professionals inform context packets (standing guidance, not commands)
PRO_REG --> PRO_CONTEXT
PRO_LEG --> PRO_CONTEXT
PRO_COMPLY --> PRO_CONTEXT
PRO_GOVREL --> PRO_CONTEXT
PRO_INDUSTRY --> PRO_CONTEXT
PRO_MARKET --> PRO_CONTEXT
PRO_RISK --> PRO_CONTEXT
PRO_COMMS --> PRO_CONTEXT
PRO_MEDIA --> PRO_CONTEXT
PRO_GRASS --> PRO_CONTEXT
PRO_ACAD --> PRO_CONTEXT
PRO_DATA --> PRO_CONTEXT

%% Context packets inform the AI Policy Execution Agent
PRO_CONTEXT -.-> AI_CORE

%% Explicit linkage to early legislative cognition
PRO_CONTEXT -.-> PRE_SIGNAL_SCAN
PRO_CONTEXT -.-> PRE_STAKEHOLDER_MAP
PRO_CONTEXT -.-> PRE_CONCEPT


%% =====================================================
%% ğŸ§­ CLARIFYING CALLOUT â€” WHAT THIS IS / IS NOT
%% Purpose: prevent misinterpretation by regulators & professionals
%% =====================================================

subgraph AI_CLARITY["ğŸ§­ Role Clarity (Non-Operational)"]
direction TB

CLARIFY_1["âœ… AI Executes Within<br/>Professionally Defined Bounds"]:::artifact
CLARIFY_2["ğŸš« AI Does NOT Replace<br/>Licensed or Regulated Judgment"]:::artifact
CLARIFY_3["ğŸ” Human Expertise Is<br/>Upstream, Continuous, Auditable"]:::artifact

end

AI_CORE -.-> CLARIFY_1
AI_CORE -.-> CLARIFY_2
AI_CORE -.-> CLARIFY_3


%% =====================================================
%% ğŸ”— CONTINUITY INTO EXISTING GOVERNANCE
%% Purpose: visually tie professionals to formal governance
%% =====================================================

PRO_CONTEXT -.-> GUIDANCE
PRO_CONTEXT -.-> AUDIT

%% =====================================================
%% ğŸ§  AI POLICY EXECUTION AGENT â€” AGENT ORCHESTRATION MODEL (ADDITIVE)
%% Purpose:
%% - Make explicit that the Legislative Spine is the STATE MACHINE
%% - AI_CORE is the ORCHESTRATOR (not a worker)
%% - All other agents are SPAWNED, SCOPED, and RETIRED relative to state
%% Audience: Cursor agents, agent developers, advanced operators
%% =====================================================

%% -----------------------------------------------------
%% ğŸ›ï¸ ORCHESTRATOR ROLE (CENTER OF GRAVITY)
%% -----------------------------------------------------

subgraph ORCHESTRATION["ğŸ›ï¸ Orchestrator Logic (Implicit, Always-On)"]
direction TB

ORCH_STATE["ğŸ“ Legislative State Cursor<br/>PRE Â· INTRO Â· COMM Â· FLOOR Â· FINAL Â· IMPL"]:::artifact
ORCH_PERMS["ğŸ” Action Permissions<br/>What Is Allowed *Now*"]:::artifact
ORCH_SPAWN["ğŸ§© Agent Spawn Rules<br/>Who Can Be Instantiated"]:::artifact
ORCH_RETIRE["â™»ï¸ Agent Retirement Rules<br/>When Agents Terminate"]:::artifact

end

AI_CORE -.-> ORCH_STATE
AI_CORE -.-> ORCH_PERMS
AI_CORE -.-> ORCH_SPAWN
AI_CORE -.-> ORCH_RETIRE

%% State is driven ONLY by legislative spine
PRE_EVT --> ORCH_STATE
INTRO_EVT --> ORCH_STATE
COMM_EVT --> ORCH_STATE
FLOOR_EVT --> ORCH_STATE
FINAL_EVT --> ORCH_STATE
IMPL_EVT --> ORCH_STATE


%% -----------------------------------------------------
%% ğŸ§© AGENT SPAWN CATEGORIES (WHAT GETS CREATED)
%% -----------------------------------------------------

subgraph AGENT_TYPES["ğŸ§© Spawned Agent Classes (Ephemeral)"]
direction TB

AG_INTEL["ğŸ” Intelligence Agents<br/>Observe Â· Summarize Â· Detect"]:::ai
AG_DRAFT["ğŸ§  Drafting Agents<br/>Generate Artifacts"]:::ai
AG_EXEC["âš™ï¸ Execution Agents<br/>World-Facing Actions"]:::ai
AG_LEARN["ğŸ“ Learning Agents<br/>Post-Hoc Attribution"]:::ai

end

ORCH_SPAWN -.-> AG_INTEL
ORCH_SPAWN -.-> AG_DRAFT
ORCH_SPAWN -.-> AG_EXEC
ORCH_SPAWN -.-> AG_LEARN


%% -----------------------------------------------------
%% ğŸ” INTELLIGENCE AGENTS (READ-ONLY)
%% -----------------------------------------------------

subgraph INTEL_AGENTS["ğŸ” Intelligence Agents (Read-Only)"]
direction TB

INT_SIGNAL("ğŸ“¡ Signal Scan Agent"):::ai
INT_OPPOSE("ğŸ›‘ Opposition Detection Agent"):::ai
INT_STAKE("ğŸ—ºï¸ Stakeholder Mapping Agent"):::ai
INT_MEDIA("ğŸ“° Media Signal Monitor"):::ai

end

AG_INTEL --> INT_SIGNAL
AG_INTEL --> INT_OPPOSE
AG_INTEL --> INT_STAKE
AG_INTEL --> INT_MEDIA

INT_SIGNAL -.-> AI_INGEST
INT_OPPOSE -.-> EXEC_ALERT
INT_STAKE -.-> PRE_STAKEHOLDER_MAP
INT_MEDIA -.-> EXEC_MONITOR


%% -----------------------------------------------------
%% ğŸ§  DRAFTING AGENTS (PRODUCTIVE, GATED)
%% -----------------------------------------------------

subgraph DRAFT_AGENTS["ğŸ§  Drafting Agents (Human-Gated)"]
direction TB

DR_MEMO("ğŸ“„ Concept Memo Agent"):::ai
DR_LANG("ğŸ“œ Legislative Language Agent"):::ai
DR_MSG("ğŸ—£ï¸ Messaging Draft Agent"):::ai
DR_AMEND("âœï¸ Amendment Strategy Agent"):::ai

end

AG_DRAFT --> DR_MEMO
AG_DRAFT --> DR_LANG
AG_DRAFT --> DR_MSG
AG_DRAFT --> DR_AMEND

DR_MEMO --> PRE_CONCEPT
DR_LANG --> COMM_LANG
DR_MSG --> FLOOR_MEDIA
DR_AMEND --> COMM_AMEND

%% All drafting outputs route to human review
DR_MEMO -.-> HR_PRE
DR_LANG -.-> HR_LANG
DR_MSG -.-> HR_MSG
DR_AMEND -.-> HR_LANG


%% -----------------------------------------------------
%% âš™ï¸ EXECUTION AGENTS (WORLD-FACING, HIGH RISK)
%% -----------------------------------------------------

subgraph EXEC_AGENTS["âš™ï¸ Execution Agents (Scoped & Timed)"]
direction TB

EX_OUTREACH("ğŸ“¨ Outreach Execution Agent"):::ai
EX_COAL("ğŸ¤ Coalition Activation Agent"):::ai
EX_MEDIA("ğŸ“° Media Seeding Agent"):::ai
EX_COUNTER("ğŸ§¯ Counter-Pressure Agent"):::ai

end

AG_EXEC --> EX_OUTREACH
AG_EXEC --> EX_COAL
AG_EXEC --> EX_MEDIA
AG_EXEC --> EX_COUNTER

%% Execution agents operate ONLY via EXEC_RUN
EX_OUTREACH --> EXEC_RUN
EX_COAL --> EXEC_RUN
EX_MEDIA --> EXEC_RUN
EX_COUNTER --> EXEC_RUN

%% Execution agents are continuously monitored
EXEC_MONITOR --> EX_OUTREACH
EXEC_MONITOR --> EX_COAL
EXEC_MONITOR --> EX_MEDIA
EXEC_MONITOR --> EX_COUNTER


%% -----------------------------------------------------
%% ğŸ“ LEARNING AGENTS (NON-INTERFERING)
%% -----------------------------------------------------

subgraph LEARN_AGENTS["ğŸ“ Learning Agents (Post-Hoc Only)"]
direction TB

LR_TACTIC("ğŸ“Š Tactic Performance Learner"):::ai
LR_NARR("ğŸ—£ï¸ Narrative Effectiveness Learner"):::ai
LR_ATTRIB("ğŸ“ˆ Outcome Attribution Agent"):::ai

end

AG_LEARN --> LR_TACTIC
AG_LEARN --> LR_NARR
AG_LEARN --> LR_ATTRIB

LR_TACTIC --> MEM_TACTICS
LR_NARR --> MEM_NARRATIVE
LR_ATTRIB --> MEM_OUTCOMES

%% Learning never blocks execution
LR_TACTIC -.-> LEARN_UPDATE
LR_NARR -.-> LEARN_UPDATE
LR_ATTRIB -.-> LEARN_UPDATE


%% -----------------------------------------------------
%% â›” HARD SAFETY CONSTRAINTS (AGENT-LEVEL)
%% -----------------------------------------------------

subgraph AGENT_RULES["â›” Non-Negotiable Agent Rules"]
direction TB

RULE_1["ğŸš« No Agent May Advance<br/>Legislative State"]:::artifact
RULE_2["ğŸš« No Agent May Self-Release<br/>Public Outputs"]:::artifact
RULE_3["ğŸš« No Agent Persists<br/>Beyond Its Scope"]:::artifact

end

AG_INTEL -.-> RULE_1
AG_DRAFT -.-> RULE_2
AG_EXEC -.-> RULE_2
AG_LEARN -.-> RULE_3


%% -----------------------------------------------------
%% â™»ï¸ AGENT LIFECYCLE (VISUAL FEELING ANCHOR)
%% -----------------------------------------------------

subgraph AGENT_LIFECYCLE["â™»ï¸ Agent Lifecycle (Implicit Motion)"]
direction LR

LC_SPAWN((Spawn)):::system --> LC_WORK("Execute Task"):::ai --> LC_MON("Monitor"):::system --> LC_END((Terminate)):::system

end

ORCH_SPAWN -.-> LC_SPAWN
LC_END -.-> ORCH_RETIRE
%% =====================================================
%% ğŸ¤– CURSOR AGENT INTERPRETATION & SPAWNING LAYER (ADDITIVE)
%% Purpose:
%% - Explain how a Cursor-style agent reads THIS diagram
%% - Show that the Legislative Spine is the backbone
%% - Show how AI_CORE spawns, scopes, and retires agents
%% This is a CONTROL PLANE, not execution logic
%% =====================================================

subgraph CURSOR_META["ğŸ§­ Cursor Agent â€” Diagram Interpretation Layer"]
direction TB

META_READ["ğŸ‘ï¸ Read System Topology<br/>Parse Subgraphs Â· States Â· Gates"]:::ai
META_BIND["ğŸ§© Bind Legislative Spine<br/>as State Machine"]:::ai
META_ROLE["ğŸ­ Identify Agent Roles<br/>Intel Â· Draft Â· Exec Â· Learn"]:::ai
META_PLAN["ğŸ—ºï¸ Build Parallel Work Plan<br/>Based on Current State"]:::ai

end

%% Cursor agent reads the system
META_READ --> META_BIND --> META_ROLE --> META_PLAN

%% Cursor agent anchors on the spine
LEGISLATIVE -.-> META_BIND
META_BIND -.-> ORCH_STATE

%% =====================================================
%% ğŸ§  AI_CORE AS ORCHESTRATOR (INTERPRETED, NOT MANUAL)
%% =====================================================

subgraph CURSOR_ORCH["ğŸ›ï¸ Cursor-Controlled Orchestration"]
direction TB

CURSOR_DELEGATE["ğŸ“¤ Delegate Tasks<br/>to AI_CORE"]:::ai
CURSOR_MONITOR["ğŸ‘€ Observe Outcomes<br/>Without Direct Execution"]:::ai

end

META_PLAN --> CURSOR_DELEGATE --> AI_CORE
AI_CORE -.-> CURSOR_MONITOR

%% Cursor never bypasses AI_CORE
CURSOR_MONITOR -.-> ORCH_RETIRE

%% =====================================================
%% ğŸ§© AGENT TEMPLATE RESOLUTION (STATIC â†’ DYNAMIC)
%% =====================================================

subgraph AGENT_TEMPLATES["ğŸ“¦ Agent Templates (From Diagram)"]
direction TB

TPL_INTEL["ğŸ” Intelligence Template"]:::artifact
TPL_DRAFT["ğŸ§  Drafting Template"]:::artifact
TPL_EXEC["âš™ï¸ Execution Template"]:::artifact
TPL_LEARN["ğŸ“ Learning Template"]:::artifact

end

META_ROLE --> TPL_INTEL
META_ROLE --> TPL_DRAFT
META_ROLE --> TPL_EXEC
META_ROLE --> TPL_LEARN

%% Templates resolve into live agents via AI_CORE
TPL_INTEL -.-> ORCH_SPAWN
TPL_DRAFT -.-> ORCH_SPAWN
TPL_EXEC -.-> ORCH_SPAWN
TPL_LEARN -.-> ORCH_SPAWN

%% =====================================================
%% ğŸ•’ STATE-DRIVEN SPAWN LOGIC (NO HALLUCINATION)
%% =====================================================

subgraph STATE_RULES["ğŸ“ State â†’ Agent Eligibility"]
direction TB

RULE_PRE["PRE_EVT â†’ Intel + Draft"]:::artifact
RULE_COMM["COMM_EVT â†’ Draft + Exec"]:::artifact
RULE_FLOOR["FLOOR_EVT â†’ Exec + Monitor"]:::artifact
RULE_FINAL["FINAL_EVT â†’ Exec + Learn"]:::artifact
RULE_IMPL["IMPL_EVT â†’ Learn Only"]:::artifact

end

ORCH_STATE -.-> RULE_PRE
ORCH_STATE -.-> RULE_COMM
ORCH_STATE -.-> RULE_FLOOR
ORCH_STATE -.-> RULE_FINAL
ORCH_STATE -.-> RULE_IMPL

%% =====================================================
%% â›” CURSOR HARD LIMITS (IMPORTANT FOR SAFETY)
%% =====================================================

subgraph CURSOR_LIMITS["â›” Cursor Agent Constraints"]
direction TB

CURSOR_NO_STATE["ğŸš« Cursor Cannot Advance<br/>Legislative State"]:::artifact
CURSOR_NO_EXEC["ğŸš« Cursor Cannot Execute<br/>World Actions"]:::artifact
CURSOR_NO_PUBLISH["ğŸš« Cursor Cannot Publish<br/>Externally"]:::artifact

end

META_READ -.-> CURSOR_NO_STATE
META_READ -.-> CURSOR_NO_EXEC
META_READ -.-> CURSOR_NO_PUBLISH

%% =====================================================
%% â™»ï¸ FEEDBACK LOOP (DIAGRAM AS LIVING SPEC)
%% =====================================================

subgraph DIAGRAM_FEEDBACK["â™»ï¸ Diagram â†’ Agent â†’ Diagram"]
direction LR

FB_OBSERVE["ğŸ‘€ Observe Bottlenecks"]:::ai
FB_SUGGEST["ğŸ’¡ Suggest Diagram Changes"]:::ai
FB_HUMAN["ğŸ‘¤ Human Accepts / Rejects"]:::decision

end

CURSOR_MONITOR --> FB_OBSERVE --> FB_SUGGEST --> FB_HUMAN
FB_HUMAN --o AVAQ

%% =====================================================
%% THICK ARROWS â€” BLOCKING PATHS & STATE TRANSITIONS
%% Purpose: Emphasize critical flow paths
%% Note: Thick arrows applied via linkStyle below
%% =====================================================

%% State transitions (thick arrows)
linkStyle 0 stroke:#000000,stroke-width:3px
linkStyle 1 stroke:#000000,stroke-width:3px
linkStyle 2 stroke:#000000,stroke-width:3px
linkStyle 3 stroke:#000000,stroke-width:3px
linkStyle 4 stroke:#000000,stroke-width:3px
linkStyle 5 stroke:#000000,stroke-width:3px

%% Blocking paths (thick arrows for --o connections)
%% These use explicit label "Blocking" in the connection definitions above
